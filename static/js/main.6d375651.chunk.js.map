{"version":3,"sources":["components/Person/Person.jsx","types.js","components/PeopleList/PeopleList.jsx","App.jsx","api/request.jsx","index.js"],"names":["Person","PropTypes","shape","name","string","isRequired","height","mass","hair_color","skin_color","eye_color","birth_year","gender","homeworld","films","array","species","vehicles","starships","created","edited","url","person","useState","newComment","setNewComment","commentsList","setCommentsList","useEffect","commentsFromStorage","JSON","parse","localStorage","getItem","stringify","className","onSubmit","event","preventDefault","comment","id","uuidv4","body","addComment","htmlFor","style","resize","rows","value","onChange","target","type","disabled","textAlign","length","map","key","PeopleList","people","App","setPeople","pageCount","setPageCount","loadMoreButton","setLoadMoreButton","showLoader","setShowLoader","getPeople","a","pageNumber","fetch","then","response","json","data","concat","results","next","color","width","onClick","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6d375651.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport './Person.scss';\nimport { PersonType } from '../../types';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nexport const Person = ({ person }) => {\n  const [newComment, setNewComment] = useState('');\n  const [commentsList, setCommentsList] = useState([]);\n\n  const addComment = () => {\n    const comment = {\n      id: uuidv4(),\n      body: newComment,\n    };\n\n    setNewComment('');\n\n    setCommentsList([comment, ...commentsList]);\n  };\n\n  useEffect(() => {\n    const commentsFromStorage = JSON.parse(localStorage.getItem(person.name));\n\n    if (commentsFromStorage) {\n      setCommentsList(commentsFromStorage);\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage[person.name] = JSON.stringify(commentsList);\n  }, [commentsList]);\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title\">\n          {person.name}\n        </h5>\n        <h6 className=\"card-subtitle mb-2 text-muted\">\n          {`Birth year: ${person.birth_year}`}\n        </h6>\n      {/* </div> */}\n\n      <form\n        className=\"new-comment-form\"\n        onSubmit={(event) => {\n          event.preventDefault();\n          addComment();\n        }}\n      >\n        <div className=\"form-group\">\n          <label htmlFor=\"inputComment\">New comment:</label>\n          <textarea\n            className=\"form-control\"\n            style={{ resize: `none` }}\n            rows=\"3\"\n            id=\"inputComment\"\n            value={newComment}\n            onChange={event => setNewComment(event.target.value)}\n          />\n        </div>\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary\"\n          disabled={!newComment}\n        >\n          Add comment\n        </button>\n      </form>\n\n      <h6\n        className=\"card-subtitle text-muted\"\n        style={{ textAlign: 'center' }}\n      >\n        {`All comments: ${commentsList.length}`}\n      </h6>\n      <ul className=\"list-group list-group-flush\">\n        {commentsList.length > 0\n          ? (\n            <>\n              {commentsList.map(comment => (\n                <li\n                  key={comment.id}\n                  className=\"list-group-item\"\n                >\n                  {comment.body}\n                </li>\n              ))}\n            </>\n          ) : (\n            <li className=\"list-group-item\">\n              No comments\n            </li>\n          )}\n      </ul>\n      </div>\n    </div>\n  );\n};\n\nPerson.propTypes = {\n  person: PersonType.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nexport const PersonType = PropTypes.shape({\n  name: PropTypes.string.isRequired,\n  height: PropTypes.string.isRequired,\n  mass: PropTypes.string.isRequired,\n  hair_color: PropTypes.string.isRequired,\n  skin_color: PropTypes.string.isRequired,\n  eye_color: PropTypes.string.isRequired,\n  birth_year: PropTypes.string.isRequired,\n  gender: PropTypes.string.isRequired,\n  homeworld: PropTypes.string.isRequired,\n  films: PropTypes.array.isRequired,\n  species: PropTypes.array.isRequired,\n  vehicles: PropTypes.array.isRequired,\n  starships: PropTypes.array.isRequired,\n  created: PropTypes.string.isRequired,\n  edited: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n});\n","import React from 'react';\nimport './PeopleList.scss';\nimport PropTypes from 'prop-types';\nimport { Person } from '../Person';\nimport { PersonType } from '../../types';\n\nexport const PeopleList = ({\n  people,\n}) => (\n  <ul className=\"peopleList\">\n    {people.map(person => (\n      <li\n        key={person.name}\n        className=\"person\"\n      >\n        <Person\n          person={person}\n        />\n      </li>\n    ))}\n  </ul>\n);\n\nPeopleList.propTypes = {\n  people: PropTypes.arrayOf(PersonType).isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport Loader from 'react-loader-spinner';\nimport { request } from './api/request';\nimport './App.scss';\nimport { PeopleList } from './components/PeopleList';\n\nconst App = () => {\n  const [people, setPeople] = useState([]);\n  const [pageCount, setPageCount] = useState(1);\n  const [loadMoreButton, setLoadMoreButton] = useState(true);\n  const [showLoader, setShowLoader] = useState(false);\n\n  useEffect(() => {\n    getPeople();\n  }, [pageCount]);\n\n  const getPeople = async() => {\n    setShowLoader(true);\n\n    const data = await request(pageCount);\n\n    setShowLoader(false);\n\n    setPeople(people.concat(data.results));\n\n    if (!data.next) {\n      setLoadMoreButton(false);\n    }\n  };\n\n  return (\n    <main className=\"App\">\n      <h1>\n        List of people\n      </h1>\n\n      <PeopleList\n        people={people}\n      />\n\n      {showLoader\n        && (\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n        />\n        )\n      }\n\n      {loadMoreButton\n        && (\n        <button\n          type=\"button\"\n          className=\"load-more-button\"\n          onClick={() => setPageCount(pageCount + 1)}\n        >\n          Load more\n        </button>\n        )\n      }\n    </main>\n  );\n};\n\nexport default App;\n","const BASE_URL = 'https://swapi.dev/api/people';\n\nexport const request = pageNumber => (\n  fetch(`${BASE_URL}/?page=${pageNumber}`)\n    .then(response => response.json())\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}